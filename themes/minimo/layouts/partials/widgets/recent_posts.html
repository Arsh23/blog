{{- $widgetsConfig := ( $.Scratch.Get "widgetsConfig" ) -}}
{{- $config := $widgetsConfig.recentPosts -}}
{{- $length := ( $config.length | default 5 ) -}}

<section class='widget widget-recent-posts sep-after'>
  <header>
    <h4 class='title widget-title'>
      {{- ( i18n "recentPosts" ) | default $config.title -}}
    </h4>
  </header>

  <ul class='list'>
  {{ range ( first $length ( where .Site.RegularPages "Type" "not in" $config.excludeTypes ) ) }}
    {{ .Render "li" }}
  {{ end }}
  </ul>
</section>
